<html>
    <head>
        <title></title>

        <script src="lib/codemirror.js"></script>
        <link rel="stylesheet" href="lib/codemirror.css">
        <script src="mode/javascript/javascript.js"></script>

        <link rel="stylesheet" href="../addon/hint/show-hint.css">
        <script src="addon/hint/show-hint.js"></script>
        <script src="addon/hint/javascript-hint.js"></script>
        <script src="addon/mode/simple.js"></script>

        <script src="base.js"></script>
        <script src="syntax.js"></script>
    </head>
    <body>
        <div>
            <button onclick="onCalculate()">Calculate</button>
        </div>
        <div>Results/Cycle:
            <div id="results"></div>
        </div>
        <div id="code"></div>
    </body>
    <script>
        const cm = CodeMirror(document.getElementById("code"), {
            lineNumbers: true
        });
        cm.on("change", onCalculate);

        function onCalculate(){
            try{
                document.getElementById("results").innerText = JSON.stringify(
                    parser.parse(cm.getValue()),
                    null, "  ");
            }catch(e){
                document.getElementById("results").innerText = e.message;
            }
        }
    </script>
</html>